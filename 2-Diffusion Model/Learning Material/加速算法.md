Speed up Diffusion Model Sampling



当我们设计的拆分步数多了之后，马尔可夫链的采样过程是非常缓慢的，原文中说采样50k张32*32的图片需要20小时，



一个最简单的办法就是跳跃式地采样

[Improved Denoising Diffusion Probabilistic Models](https://arxiv.org/abs/2102.09672)









## DDIM

- “consistency” property
- DDIM can do semantically meaningful interpolation in the latent variable.





## Latent Diffusion Model (LDM)

> 在隐空间操作，而不是像素空间。

$$
\begin{aligned}
    \boldsymbol{x}_{t-1} &=\sqrt{\bar{\alpha}_{t-1}} \boldsymbol{x}_0+\sqrt{1-\bar{\alpha}_{t-1}} \boldsymbol{\varepsilon}_{t-1} \\
    &=\sqrt{\bar{\alpha}_{t-1}} \boldsymbol{x}_0+\sqrt{1-\bar{\alpha}_{t-1}-\sigma_t^2} \boldsymbol{\varepsilon}_t+\sigma_t \boldsymbol{\varepsilon} \\
    &=\sqrt{\bar{\alpha}_{t-1}} \boldsymbol{x}_0+\sqrt{1-\bar{\alpha}_{t-1}-\sigma_t^2} \frac{\boldsymbol{x}_t-\sqrt{\bar{\alpha}_t} \boldsymbol{x}_0}{\sqrt{1-\bar{\alpha}_t}}+\sigma_t \boldsymbol{\varepsilon}
\end{aligned}
$$






$$
q_\sigma\left(\mathbf{x}_{t-1} \mid \mathbf{x}_t, \mathbf{x}_0\right)=\mathcal{N}\left(\mathbf{x}_{t-1} ; \sqrt{\bar{\alpha}_{t-1}} \mathbf{x}_0+\sqrt{1-\bar{\alpha}_{t-1}-\sigma_t^2} \frac{\mathbf{x}_t-\sqrt{\bar{\alpha}_t} \mathbf{x}_0}{\sqrt{1-\bar{\alpha}_t}}, \sigma_t^2 \mathbf{I}\right)
$$
